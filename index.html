<!DOCTYPE html>
<html>
<head>
    <title>Test Supabase Réussi</title>
</head>
<body>
    <h1>✅ Connexion Supabase Établie</h1>
    <div id="result">Chargement...</div>

    <script>
        // Configuration correcte
        const SUPABASE_URL = 'https://prrzsosrbrskmeozmmmu.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_2nwtPyBWSeUNNtx06wROTw_Txpyk2W3';
        
        // Test de connexion
        fetch(`${SUPABASE_URL}/rest/v1/documents?select=*&limit=5`, {
            headers: {
                'apikey': SUPABASE_KEY,
                'Authorization': `Bearer ${SUPABASE_KEY}`,
                'Content-Type': 'application/json'
            }
        })
        .then(response => {
            if (!response.ok) throw new Error(`HTTP ${response.status}`);
            return response.json();
        })
        .then(data => {
            document.getElementById('result').innerHTML = 
                `✅ SUCCÈS! ${data.length} document(s) trouvé(s)<br>
                 <pre>${JSON.stringify(data, null, 2)}</pre>`;
        })
        .catch(err => {
            document.getElementById('result').innerHTML = 
                `❌ ERREUR: ${err.message}`;
        });
    </script>
</body>
</html>
