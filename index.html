<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test Marques Supabase</title>
</head>
<body>
  <h2>üîç Test lecture marques/mod√®les</h2>
  <button onclick="tester()">Tester la lecture</button>

  <script>
    const supabaseUrl = "https://prrzsosrbrskmeozmmmu.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycnpzb3NyYnJza21lb3ptbW11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzMTkwMDMsImV4cCI6MjA3Njg5NTAwM30.JuqL6tJC5LRXX3OHXrznm_v9bca-aOJ_vnk_wPsP9Mc";

    const headers = {
      apikey: supabaseKey,
      Authorization: `Bearer ${supabaseKey}`,
    };

    async function tester() {
      try {
        const res = await fetch(`${supabaseUrl}/rest/v1/documents?select=marque,modele`, { headers });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        console.log("‚úÖ Marques et mod√®les r√©cup√©r√©s :", data);
        alert("‚úÖ Connexion r√©ussie ! Regarde la console.");
      } catch (err) {
        console.error("‚ùå Erreur de connexion :", err);
        alert("‚ùå √âchec de la connexion. Regarde la console.");
      }
    }
  </script>
</body>
</html>
